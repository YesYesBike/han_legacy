#!/bin/perl
use utf8;
#use strict;
#use warnings;
#use Data::Dumper;
#use feature qw/
#    say
#/;
#use Switch;
use integer;
use Getopt::Std;

binmode(STDOUT, ":encoding(UTF-8)");

my @넋놓고기역못함 = split //,
    "ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎㅏㅐㅑㅒㅓㅔㅕㅖㅗㅛㅜㅠㅡㅣ";

my %알프스산맥을넘어서 = (
    r =>  0, R =>  1, s =>  2, e =>  3, E =>  4, f =>  5,
    a =>  6, q =>  7, Q =>  8, t =>  9, T => 10, d => 11,
    w => 12, W => 13, c => 14, z => 15, x => 16, v => 17,
    g => 18, k => 19, o => 20, i => 21, O => 22, j => 23,
    p => 24, u => 25, P => 26, h => 27, y => 28, n => 29,
    b => 30, m => 31, l => 32,
);

my %중학생때들은노래 = (
    ㅏ =>  0, ㅐ =>  1, ㅑ =>  2, ㅒ =>  3, ㅓ =>  4,
    ㅔ =>  5, ㅕ =>  6, ㅖ =>  7, ㅗ =>  8, ㅘ =>  9,
    ㅙ => 10, ㅚ => 11, ㅛ => 12, ㅜ => 13, ㅝ => 14,
    ㅞ => 15, ㅟ => 16, ㅠ => 17, ㅡ => 18, ㅢ => 19,
    ㅣ => 20,
);

my %종두법창시자프렝키데종 = (
    ㄱ =>  0, ㄲ =>  1, ㄳ =>  2, ㄴ =>  3, ㄵ =>  4,
    ㄶ =>  5, ㄷ =>  6, ㄹ =>  7, ㄺ =>  8, ㄻ =>  9,
    ㄼ => 10, ㄽ => 11, ㄾ => 12, ㄿ => 13, ㅀ => 14,
    ㅁ => 15, ㅂ => 16, ㅄ => 17, ㅅ => 18, ㅆ => 19,
    ㅇ => 20, ㅈ => 21, ㅊ => 22, ㅋ => 23, ㅌ => 24,
    ㅍ => 25, ㅎ => 26,
);

my %종말의대마초 = (
    0  => 0,  1  => 1,  3  => 2,  6  => 3,  7  => 5,
    15 => 6,  16 => 7,  18 => 9,  19 => 10, 20 => 11,
    21 => 12 ,22 => 14, 23 => 15, 24 => 16, 25 => 17,
    26 => 18 ,
);

my %래노은들때생학중 = reverse %중학생때들은노래;

my %쒸쁘뜨까안뗴어쪄요 = (   
    "0,9"  => 2,   "3,12" => 4,  "3,18" => 5,
    "7,0"  => 8,   "7,6"  => 9,  "7,7"  => 10,
    "7,9"  => 11,  "7,16" => 12, "7,17" => 13,
    "7,18" => 14,  "16,9" => 17,
);

my %요쪄어뗴안까뜨쁘쒸 = reverse %쒸쁘뜨까안뗴어쪄요;

my %걸레에걸려넘어지는결례 = (   
    "8,19"  => 9,  "8,20"  => 10, "8,32"  => 11,
    "13,23" => 14, "13,24" => 15, "13,32" => 16,
    "18,32" => 19,
);

my @리타르단도로깎은사과;

my $초글링잡는파이어뱃;
my $중간이딱이던리버풀은어디에;
my $종갓집종아리치킨;

my $이클립스에이끌린당신;
my @클럽에서클립춤추기;

sub 이맥스와디제이맥스의클라이맥스{
    my @앍 = @_;
    my $삼진루타 = 0;
    for (@앍){
        ($_ = -1, $삼진루타++) if !defined;
    }
    return if $삼진루타 == 3;
    my $이치가안맞는이치카 = 0xac00 + 21*28*$앍[0] + 28*$앍[1] + $앍[2] + 1;
    push @리타르단도로깎은사과, chr($이치가안맞는이치카);
}

sub 히스테리아가부르는뮤즈대쉬{
    my ($모에모에한뫼비우스, $인덱스인데스) = @_;
    if(!defined $중간이딱이던리버풀은어디에){
        if(!defined $종갓집종아리치킨){
            if(!defined $초글링잡는파이어뱃){
                $초글링잡는파이어뱃 = $인덱스인데스;
            } else {
                push @리타르단도로깎은사과, $넋놓고기역못함[$초글링잡는파이어뱃];
                $초글링잡는파이어뱃 = $인덱스인데스;
            }
        }
    } else {
        if(!defined $종갓집종아리치킨){
            if(!defined $초글링잡는파이어뱃){
                push @리타르단도로깎은사과, $래노은들때생학중{$중간이딱이던리버풀은어디에};
                undef $중간이딱이던리버풀은어디에;
                $초글링잡는파이어뱃 = $인덱스인데스;
            } else {
                if( defined(my $위로트럭사물레이터 = $종두법창시자프렝키데종{$모에모에한뫼비우스}) ){
                    $종갓집종아리치킨 = $위로트럭사물레이터;
                } else {
                    이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
                    undef $중간이딱이던리버풀은어디에;
                    undef $종갓집종아리치킨;
                    $초글링잡는파이어뱃 = $인덱스인데스;
                }
            }
        } else {
            if(defined $초글링잡는파이어뱃){
                if( my $뉴후후는어느나라말이야 = $쒸쁘뜨까안뗴어쪄요{"$종갓집종아리치킨,$인덱스인데스"} ){
                    $종갓집종아리치킨 = $뉴후후는어느나라말이야;
                } else {
                    이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
                    undef $중간이딱이던리버풀은어디에;
                    undef $종갓집종아리치킨;
                    $초글링잡는파이어뱃 = $인덱스인데스;
                }
            }
        }
    }
}

sub 달과맞바꾼30달러짜리명반모음{
    my ($모에모에한뫼비우스, $인덱스인데스) = @_;

    if(!defined $초글링잡는파이어뱃){
        if(defined $종갓집종아리치킨){
            if(my $뉴후후는어느나라말이야 = $요쪄어뗴안까뜨쁘쒸{$종갓집종아리치킨}){
                $뉴후후는어느나라말이야 =~ /(\d+),(\d+)/;
                $종갓집종아리치킨 = $1;
                이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
                $초글링잡는파이어뱃 = $2;
                undef $종갓집종아리치킨;
            }
        } else {
            push @리타르단도로깎은사과, $모에모에한뫼비우스;
        }
    } else {
        if(!defined $종갓집종아리치킨){
            if(!defined $중간이딱이던리버풀은어디에){
                $중간이딱이던리버풀은어디에 = $중학생때들은노래{$모에모에한뫼비우스};
            } else {
                if(my $뉴후후는어느나라말이야 = $걸레에걸려넘어지는결례{"$중간이딱이던리버풀은어디에,$인덱스인데스"}){
                    $중간이딱이던리버풀은어디에 = $뉴후후는어느나라말이야;
                } else {
                    이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
                    undef $초글링잡는파이어뱃;
                    undef $중간이딱이던리버풀은어디에;
                    push @리타르단도로깎은사과, $모에모에한뫼비우스;
                }
            }
        } else {
            my $하이템플러;
            my $다크템플러;
            if(my $뉴후후는어느나라말이야 = $요쪄어뗴안까뜨쁘쒸{$종갓집종아리치킨}){
                $뉴후후는어느나라말이야 =~ /(\d+),(\d+)/;
                $종갓집종아리치킨 = $1;
                $하이템플러 = $2;
                이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
                undef $종갓집종아리치킨;
            } else {
                $다크템플러 = $종갓집종아리치킨;
                undef $종갓집종아리치킨;
                이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
            }

            if(defined $하이템플러){
                $초글링잡는파이어뱃 = $하이템플러;
            } else {
                $초글링잡는파이어뱃 = $종말의대마초{$다크템플러};
            }
            $중간이딱이던리버풀은어디에 = $중학생때들은노래{$모에모에한뫼비우스};
        }
    }
}

sub 삼촌안에귤나무로튀어와{
    my $이치가안맞는이치카 = shift;

    for my $엔진에소스뿌리기(split //, $이치가안맞는이치카){
        my $인덱스인데스 = $알프스산맥을넘어서{$엔진에소스뿌리기};
        my $모에모에한뫼비우스 = $넋놓고기역못함[$인덱스인데스] if defined $인덱스인데스;

        if(!defined $인덱스인데스){
            이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
            undef $초글링잡는파이어뱃;
            undef $중간이딱이던리버풀은어디에;
            undef $종갓집종아리치킨;
            push @리타르단도로깎은사과, $엔진에소스뿌리기;
            next;
        }

        if($인덱스인데스 < 19){
            히스테리아가부르는뮤즈대쉬($모에모에한뫼비우스, $인덱스인데스);
        } else {
            달과맞바꾼30달러짜리명반모음($모에모에한뫼비우스, $인덱스인데스);
        }
    }

    if(defined $초글링잡는파이어뱃){
        if(defined $중간이딱이던리버풀은어디에){
            이맥스와디제이맥스의클라이맥스($초글링잡는파이어뱃, $중간이딱이던리버풀은어디에, $종갓집종아리치킨);
        } else {
            push @리타르단도로깎은사과, $넋놓고기역못함[$초글링잡는파이어뱃];
        }
    } else {
        if(defined $중간이딱이던리버풀은어디에){
            push @리타르단도로깎은사과, $중학생때들은노래{$중간이딱이던리버풀은어디에};
        } else {
            push @리타르단도로깎은사과, $종두법창시자프렝키데종{$종갓집종아리치킨} if(defined $종갓집종아리치킨);
        }
    }

    undef $초글링잡는파이어뱃;
    undef $중간이딱이던리버풀은어디에;
    undef $종갓집종아리치킨;

    $리타르단도로깎은사과 = join '', @리타르단도로깎은사과;
    print $리타르단도로깎은사과;
    push @클럽에서클립춤추기, $리타르단도로깎은사과 if $이클립스에이끌린당신;
    undef @리타르단도로깎은사과;
    undef $리타르단도로깎은사과;
}

sub 여기에내가있고저기엔네가없다{
    my $황소의햄스트링 = shift;
    my ($화이트밴은화이트리스트인가블랙리스트인가, $한집안의가장이되는것은가장영예로운일이면서고난하다고할수도있지만아닐수도있고아무튼나는잘모른다);
    if($황소의햄스트링 =~ /^\s*(?:([^\w\s]+)(\s*).*\n)(?:\s*\1\2?.*\n)+$/){
        ($화이트밴은화이트리스트인가블랙리스트인가, $한집안의가장이되는것은가장영예로운일이면서고난하다고할수도있지만아닐수도있고아무튼나는잘모른다) = ($2, quotemeta($1));
    } else {
        ($화이트밴은화이트리스트인가블랙리스트인가, $한집안의가장이되는것은가장영예로운일이면서고난하다고할수도있지만아닐수도있고아무튼나는잘모른다) = (/^(\s+)/, '');
    }
    $황소의햄스트링 =~ s/^\s*?$한집안의가장이되는것은가장영예로운일이면서고난하다고할수도있지만아닐수도있고아무튼나는잘모른다(?:$화이트밴은화이트리스트인가블랙리스트인가)?//gm;
    $황소의햄스트링;
}

sub 스즈미야울적에{
    print 여기에내가있고저기엔네가없다 <<"    물공헤딩앙리푸엥카레라이스프라이트"
    @@@ <알파벳-한글 변환기 쉘 도움말>
    @@@ :q    - 종료
    @@@ :h    - 도움말
    @@@ :c    - 화면 지우기
    @@@ :C    - 클립보드 덮어쓰기 활성화/비활성화
    물공헤딩앙리푸엥카레라이스프라이트
}

sub 글라도스와휘틀리를거느리던{
    print "알파벳-한글 변환기(:h 도움말, :q 종료)\n> ";
    while(<STDIN>){
        chomp;
        if(/^:q$/){
            exit;
        } elsif(/^:h$/){
            스즈미야울적에;
        } elsif(/^:c$/){
            system('clear');
        } elsif(/^:C$/){
            $이클립스에이끌린당신 = ($이클립스에이끌린당신 ? 0 : 1);
            print "클립보드: $이클립스에이끌린당신\n";
        } elsif(!$_){
        } else {
            삼촌안에귤나무로튀어와 $_;
            if($이클립스에이끌린당신 == 1){
                my $클럽에서클립춤추기 = pop @클럽에서클립춤추기;
                open 주의이것은클립보드를덮어씁니다, '|-:utf8', 'xsel -i -b' or die "클립보드 연계실패 $!";
                print 주의이것은클립보드를덮어씁니다 $클럽에서클립춤추기;
                close 주의이것은클립보드를덮어씁니다;
                undef $클럽에서클립춤추기;
            }
            print "\n";
        }
        print "> ";
    }
}

sub 도움도이터{
    print 여기에내가있고저기엔네가없다 <<"    야구보는야고보";
    @@@ <알파벳-한글 변환기 도움말>
    @@@ *옵션이 없으면 대화형 쉘을 실행
    @@@ 
    @@@ -c:             결과물을 클립보드로 출력(xsel)
    @@@ -f <파일이름>:  파일을 한글로 변환
    @@@ -h:             도움말
    @@@ -s:             STDIN을 입력으로 받음
    @@@ -t <전달인자>:  STDIN이 아닌 전달인자를 한글로 출력
    @@@ -v:             버전
    @@@ 
    @@@ 주의: -h, -v, -s, -t, -f 옵션은 동시에 실행되지 않으며 프로그램 작동 순서에 따라 한 가지만 실행됨.
    야구보는야고보
}

sub 로빈반페르시온{
    print 여기에내가있고저기엔네가없다 <<"    미켈란젤로가미카엘안젤로였다고";
    han - 알파벳-한글 변환기
    현재 버전: v0.3
    작성자: yesyesbike
    미켈란젤로가미카엘안젤로였다고
}

sub 갈라파고스로떠난갈락티코{
    $_ = join ' ', @_;
    삼촌안에귤나무로튀어와 $_;
}

sub 근데근대는언제부터언제까지야{
    for(@_){
        shift;
        open 주의이것은파일입니다, '<', $_;
        while(<주의이것은파일입니다>){
            삼촌안에귤나무로튀어와 $_;
        }
        close 주의이것은파일입니다;
    }
}

if(@ARGV){                  #프로그램 시작지점
    my %귀찮다고귀안파는귀막힌상황;
    getopts("cf:hst:v", \%귀찮다고귀안파는귀막힌상황);
    if($귀찮다고귀안파는귀막힌상황{c}){
        $이클립스에이끌린당신 = 1;
        글라도스와휘틀리를거느리던 if(keys %귀찮다고귀안파는귀막힌상황 == 1);
    }

    if($귀찮다고귀안파는귀막힌상황{h}){
        도움도이터;
    } elsif($귀찮다고귀안파는귀막힌상황{v}){
        로빈반페르시온;
    } elsif($귀찮다고귀안파는귀막힌상황{s}){
        while(<>){
            chomp;
            삼촌안에귤나무로튀어와 $_;
            print "\n";
        }
    } elsif($귀찮다고귀안파는귀막힌상황{t}){
        갈라파고스로떠난갈락티코($귀찮다고귀안파는귀막힌상황{t});
    } elsif($귀찮다고귀안파는귀막힌상황{f}){
        근데근대는언제부터언제까지야($귀찮다고귀안파는귀막힌상황{f});
    }
} else {
    글라도스와휘틀리를거느리던;
}

if($이클립스에이끌린당신){
    my $클럽에서클립춤추기 = join '\n', @클럽에서클립춤추기;
    open 주의이것은클립보드를덮어씁니다, '|-:utf8', 'xsel -i -b' or die "클립보드 연계실패 $!";
    print 주의이것은클립보드를덮어씁니다 $클럽에서클립춤추기;
    close 주의이것은클립보드를덮어씁니다;
}
